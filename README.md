# 📋 스마트 출석부 (Smart Attendance Check)

별도의 서버 구축 없이 웹 브라우저만으로 동작하는 **QR 코드 기반 출석 체크 및 관리 시스템**입니다.  
소규모 학원, 스터디 그룹, 동호회 등에서 간편하게 출석을 관리하고 통계를 확인할 수 있도록 설계되었습니다.

---

## 🆕 최신 변경사항 (Latest Updates)
- **Firebase Firestore 연동:** 기존 브라우저 로컬 저장소(`localStorage`) 방식에서 구글 파이어베이스(Firebase) DB로 마이그레이션했습니다.
- **실시간 동기화:** 이제 여러 기기(PC, 태블릿, 스마트폰)에서 동시에 접속해도 데이터가 실시간으로 공유됩니다.
- **데이터 안전성:** 브라우저 캐시를 삭제해도 데이터가 클라우드에 안전하게 보존됩니다.

---

## 📑 PRD (제품 요구사항 정의서)

### 1. 프로젝트 개요
- **제품명:** 스마트 출석부 (Smart Attendance Check)
- **목표:** 서버나 DB 없이 로컬 환경(브라우저)에서 즉시 사용 가능한 경량화된 출석 관리 도구 제공.
- **타겟 사용자:** 출석 관리가 필요한 소규모 그룹의 관리자 및 회원.

### 2. 핵심 기능 명세 (Functional Requirements)

#### A. 출석 체크 (Attendance)
- **QR 코드 스캔:** 
  - 수업(세션)별 고유 QR 코드를 생성하여 회원이 스마트폰으로 스캔.
  - URL 파라미터(`?session=CODE`)를 통해 수업 정보를 인식.
- **유효성 검사:** 
  - **요일 검사:** 해당 수업의 요일과 실제 접속 요일이 일치하는지 확인.
  - **시간 검사:** 수업 시작/종료 시간 내에만 출석 가능.
- **본인 확인:** 스캔 후 드롭다운 목록에서 본인 이름을 선택하여 출석 완료.
- **중복 방지:** 동일한 날짜, 동일 수업에 대해 중복 출석 불가 처리.

#### B. 관리자 도구 (Admin Tools)
- **QR 코드 관리:** 
  - 요일/시간대별 수업 목록에 대한 QR 코드 자동 생성.
  - 강의실 부착용 인쇄 모달 제공 (A4 출력 최적화).
- **종이 명부 입력 (Bulk Input):** 
  - 수기로 작성된 명단을 텍스트로 붙여넣기하여 일괄 출석 처리.
  - 형식: `이름` 또는 `이름 전화번호뒷자리` (예: `김철수 1234`).
  - **자동 회원가입:** 명단에 없는 이름 입력 시 자동으로 신규 회원으로 등록.

#### C. 회원 관리 (Member Management)
- **회원 등록:** 이름과 전화번호 뒷자리(선택)로 간편 등록.
- **회원 목록:** 전체 회원 조회 및 삭제 기능.
  - *보호 로직:* 출석 이력이 존재하는 회원은 실수로 삭제되지 않도록 차단.
- **상세 이력:** 회원 이름 클릭 시 개인별 전체 출석 이력(날짜, 수업명, 시간) 조회.

#### D. 리포트 및 통계 (Analytics)
- **월별 필터:** `YYYY-MM` 형식으로 데이터 필터링.
- **대시보드:**
  - **월간 총 출석:** 중복을 제외한 실제 출석 회원 수(Unique Visitors).
  - **추이 그래프:** 최근 6개월간의 출석 인원 변화를 선형 그래프(Chart.js)로 시각화.
- **상세 리포트:**
  - **출석 순위:** 회원별 출석 횟수 랭킹.
  - **주차/차수별 현황:** 주차별, 반별 출석 인원 통계.
  - **개인별 주차 상세:** 개인별 1~5주차 출석 현황 매트릭스.

### 3. 데이터 관리 (Data Persistence)
- **저장소:** **Google Firebase Firestore** (NoSQL Cloud DB).
- **구조:**
  - `members` 컬렉션: 회원 정보 문서.
  - `logs` 컬렉션: 출석 기록 문서.
- **초기화:** 관리자 헤더의 '초기화' 버튼을 통해 DB 내 모든 데이터를 영구 삭제할 수 있습니다.

---

## 🛠 기술 스택 (Tech Stack)

| 구분 | 기술 | 비고 |
|---|---|---|
| **Core** | HTML5, JavaScript (ES6+) | Vanilla JS 구현 |
| **Backend** | **Firebase** | Firestore (DB), Realtime Sync |
| **Styling** | Tailwind CSS | CDN 방식 사용 |
| **Visualization** | Chart.js | 데이터 시각화 (그래프) |
| **Utility** | QRCode.js | QR 코드 생성 |
| **Icons** | FontAwesome | UI 아이콘 |

---

## 🚀 설치 및 실행 방법

이 프로젝트는 정적 웹페이지로 구성되어 있어 별도의 설치 과정이 필요 없습니다.

1. **파일 실행:** `index.html` 파일을 다운로드하여 크롬, 사파리 등 최신 브라우저에서 엽니다.
2. **배포 (선택 사항):** 
   - GitHub Pages, Vercel, Netlify 등을 통해 무료로 호스팅하여 팀원들과 공유할 수 있습니다.
   - **설정:** `index.html` 내부의 `firebaseConfig` 값을 본인의 프로젝트 설정으로 변경해야 합니다.

---

## 📂 파일 구조

```text
attend_v5/
├── index.html      # 메인 애플리케이션 (모든 로직 포함)
└── README.md       # 프로젝트 설명서
```

---

## ⚠️ 주의 사항

1. **QR 코드:** 웹사이트 주소가 변경되면 QR 코드를 다시 인쇄해야 합니다.
2. **보안:** 소스 코드에 Firebase API Key가 포함되므로, 공개된 저장소(Public Repo)에 업로드 시 Firebase Console에서 도메인 제한 및 보안 규칙(Security Rules)을 설정하는 것이 좋습니다.

---

## 📝 라이선스

MIT License
```

<!--
[PROMPT_SUGGESTION]README에 작성된 기능 중 '데이터 백업/복구(JSON 파일 내보내기/가져오기)' 기능을 index.html에 추가해 주세요.[/PROMPT_SUGGESTION]
[PROMPT_SUGGESTION]현재 코드를 기반으로 Vercel에 배포하기 위한 vercel.json 설정 파일을 만들어 주세요.[/PROMPT_SUGGESTION]
-->